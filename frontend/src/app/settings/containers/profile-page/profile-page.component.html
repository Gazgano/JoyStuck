<h1>My profile</h1>

<div class="ProfilePage-Checklist">
  <app-checklist-item [condition]="currentUser.emailVerified" [textIfTrue]="'Email verified'" [textIfFalse]="'Email not verified'"></app-checklist-item>
</div>

<div class="ProfilePage-UploadImage">
  <div class="ProfilePage-UploadImage-ImageContainer">
    <div *ngIf="!currentUser.profileImageSrcUrl; else profileImage" class="ProfilePage-UploadImage-DefaultImage">
      <span>{{ currentUser.username.substring(0,1) }}</span>
    </div>

    <ng-template #profileImage>
      <img class="ProfilePage-UploadImage-Image" [attr.src]="currentUser.profileImageSrcUrl">
    </ng-template>
  </div>

  <div class="ProfilePage-UploadImage-Actions">
    <div>Accepted formats: <i>.jpg</i>, <i>.png</i></div>
    <input #file mat-button type="file">
  </div>
</div>

<div class="ProfilePage-Form">
  <app-profile-form [profileFormType]="'UPDATE'" [currentUser]="currentUser" [triggerSubmission]="submissionObservable" (formSubmit)="onSubmit($event)" ></app-profile-form>
</div>

<div class="ProfilePage-ActionButtons">
  <button [disabled]="false" (click)="submitForm()" class="ProfilePage-SubmitButton" color="primary" mat-flat-button>Save changes</button>
  <mat-spinner *ngIf="isSubmitting" [diameter]="20" color="primary"></mat-spinner>
</div>
